<%@page contentType="text/html;" pageEncoding="utf-8" %>
<%@ include file="/master/head.jsp" %>
<style id="pagebuilder-frontend-stylesheet" type="text/css">
    #row-dhw8p8enl {
    }

    @media (max-width: 991px) {
        #row-dhw8p8enl {
        }
    }

    @media (max-width: 575px) {
        #row-dhw8p8enl {
        }
    }

    #column-zwkfnrf8s {
    }

    @media (max-width: 991px) {
        #column-zwkfnrf8s {
        }
    }

    @media (max-width: 575px) {
        #column-zwkfnrf8s {
        }
    }

    #row-i5oou8rez {
    }

    @media (max-width: 991px) {
        #row-i5oou8rez {
        }
    }

    @media (max-width: 575px) {
        #row-i5oou8rez {
        }
    }

    #column-rifrtujuf {
    }

    @media (max-width: 991px) {
        #column-rifrtujuf {
        }
    }

    @media (max-width: 575px) {
        #column-rifrtujuf {
        }
    }

    #addon-xn7737f39 .pb-spacer-inner {
        height: 20px;
    }

    @media (max-width: 991px) {
        #addon-xn7737f39 .pb-spacer-inner {
            height: 20px;
        }
    }

    @media (max-width: 575px) {
        #addon-xn7737f39 .pb-spacer-inner {
            height: 20px;
        }
    }

    #row-cbgtkl9u3 {
    }

    @media (max-width: 991px) {
        #row-cbgtkl9u3 {
        }
    }

    @media (max-width: 575px) {
        #row-cbgtkl9u3 {
        }
    }

    #column-swsitjal1 {
    }

    @media (max-width: 991px) {
        #column-swsitjal1 {
        }
    }

    @media (max-width: 575px) {
        #column-swsitjal1 {
        }
    }

    #addon-ce6c4eqdc .pb-banner-text {
        top: 0px;
        left: 40px;
        text-align: left;
    }

    #addon-ce6c4eqdc .pb-banner-subtitle {
        font-size: 14px;
        line-height: 21px;
        color: #ffffff
    }

    #addon-ce6c4eqdc .pb-banner-title {
        font-size: 40px;
        line-height: 50px;
        color: #ffffff
    }

    #addon-ce6c4eqdc .pb-banner-desc {
        font-size: 14px;
        line-height: 21px;
        color:
    }

    @media (max-width: 991px) {
        #addon-ce6c4eqdc .pb-banner-text {
            top: 20px;
            left: 20px;
        }

        #addon-ce6c4eqdc .pb-banner-subtitle {
            font-size: 14px;
            line-height: 21px;
        }

        #addon-ce6c4eqdc .pb-banner-title {
            font-size: 30px;
            line-height: 35px;
        }

        #addon-ce6c4eqdc .pb-banner-desc {
            font-size: 12px;
            line-height: 18px;
        }
    }

    @media (max-width: 575px) {
        #addon-ce6c4eqdc .pb-banner-text {
            top: 20px;
            left: 20px;
        }

        #addon-ce6c4eqdc .pb-banner-subtitle {
            font-size: 14px;
            line-height: 21px;
        }

        #addon-ce6c4eqdc .pb-banner-title {
            font-size: 30px;
            line-height: 35px;
        }

        #addon-ce6c4eqdc .pb-banner-desc {
            font-size: 10px;
            line-height: 15px;
        }
    }

    #column-agi747c3c {
    }

    @media (max-width: 991px) {
        #column-agi747c3c {
        }
    }

    @media (max-width: 575px) {
        #column-agi747c3c {
        }
    }

    #addon-9uvpqfyna .pb-banner-text {
        top: 25px;
        left: 40px;
        text-align: left;
    }

    #addon-9uvpqfyna .pb-banner-subtitle {
        font-size: 14px;
        line-height: 21px;
        color: #ffffff
    }

    #addon-9uvpqfyna .pb-banner-title {
        font-size: 24px;
        line-height: 30px;
        color: #ffffff
    }

    #addon-9uvpqfyna .pb-banner-desc {
        font-size: 14px;
        line-height: 21px;
        color:
    }

    @media (max-width: 991px) {
        #addon-9uvpqfyna .pb-banner-text {
            top: 20px;
            left: 20px;
        }

        #addon-9uvpqfyna .pb-banner-subtitle {
            font-size: 14px;
            line-height: 21px;
        }

        #addon-9uvpqfyna .pb-banner-title {
            font-size: 24px;
            line-height: 30px;
        }

        #addon-9uvpqfyna .pb-banner-desc {
            font-size: 12px;
            line-height: 18px;
        }
    }

    @media (max-width: 575px) {
        #addon-9uvpqfyna .pb-banner-text {
            top: 20px;
            left: 20px;
        }

        #addon-9uvpqfyna .pb-banner-subtitle {
            font-size: 14px;
            line-height: 21px;
        }

        #addon-9uvpqfyna .pb-banner-title {
            font-size: 24px;
            line-height: 30px;
        }

        #addon-9uvpqfyna .pb-banner-desc {
            font-size: 10px;
            line-height: 15px;
        }
    }

    #column-o4xhr90y6 {
    }

    @media (max-width: 991px) {
        #column-o4xhr90y6 {
        }
    }

    @media (max-width: 575px) {
        #column-o4xhr90y6 {
        }
    }

    #addon-77nx3txla .pb-banner-text {
        top: 0px;
        left: 30px;
        text-align: left;
    }

    #addon-77nx3txla .pb-banner-subtitle {
        font-size: 14px;
        line-height: 21px;
        color: #ffffff
    }

    #addon-77nx3txla .pb-banner-title {
        font-size: 24px;
        line-height: 30px;
        color: #ffffff
    }

    #addon-77nx3txla .pb-banner-desc {
        font-size: 14px;
        line-height: 21px;
        color:
    }

    @media (max-width: 991px) {
        #addon-77nx3txla .pb-banner-text {
            top: 20px;
            left: 20px;
        }

        #addon-77nx3txla .pb-banner-subtitle {
            font-size: 14px;
            line-height: 21px;
        }

        #addon-77nx3txla .pb-banner-title {
            font-size: 24px;
            line-height: 30px;
        }

        #addon-77nx3txla .pb-banner-desc {
            font-size: 12px;
            line-height: 18px;
        }
    }

    @media (max-width: 575px) {
        #addon-77nx3txla .pb-banner-text {
            top: 20px;
            left: 20px;
        }

        #addon-77nx3txla .pb-banner-subtitle {
            font-size: 14px;
            line-height: 21px;
        }

        #addon-77nx3txla .pb-banner-title {
            font-size: 24px;
            line-height: 30px;
        }

        #addon-77nx3txla .pb-banner-desc {
            font-size: 10px;
            line-height: 15px;
        }
    }

    #addon-kknbu0r4f .pb-spacer-inner {
        height: 20px;
    }

    @media (max-width: 991px) {
        #addon-kknbu0r4f .pb-spacer-inner {
            height: 40px;
        }
    }

    @media (max-width: 575px) {
        #addon-kknbu0r4f .pb-spacer-inner {
            height: 30px;
        }
    }

    #addon-9hybhk8fh .pb-banner-text {
        top: 0px;
        left: 30px;
        text-align: left;
    }

    #addon-9hybhk8fh .pb-banner-subtitle {
        font-size: 14px;
        line-height: 21px;
        color: #ffffff
    }

    #addon-9hybhk8fh .pb-banner-title {
        font-size: 24px;
        line-height: 30px;
        color: #ffffff
    }

    #addon-9hybhk8fh .pb-banner-desc {
        font-size: 14px;
        line-height: 21px;
        color:
    }

    @media (max-width: 991px) {
        #addon-9hybhk8fh .pb-banner-text {
            top: 20px;
            left: 20px;
        }

        #addon-9hybhk8fh .pb-banner-subtitle {
            font-size: 14px;
            line-height: 21px;
        }

        #addon-9hybhk8fh .pb-banner-title {
            font-size: 24px;
            line-height: 30px;
        }

        #addon-9hybhk8fh .pb-banner-desc {
            font-size: 12px;
            line-height: 18px;
        }
    }

    @media (max-width: 575px) {
        #addon-9hybhk8fh .pb-banner-text {
            top: 20px;
            left: 20px;
        }

        #addon-9hybhk8fh .pb-banner-subtitle {
            font-size: 14px;
            line-height: 21px;
        }

        #addon-9hybhk8fh .pb-banner-title {
            font-size: 24px;
            line-height: 30px;
        }

        #addon-9hybhk8fh .pb-banner-desc {
            font-size: 10px;
            line-height: 15px;
        }
    }

    #row-6lllqhkxu {
        padding-top: 25px;
        padding-bottom: 25px;
    }

    @media (max-width: 991px) {
        #row-6lllqhkxu {
        }
    }

    @media (max-width: 575px) {
        #row-6lllqhkxu {
        }
    }

    #column-4lfbrt40h {
    }

    @media (max-width: 991px) {
        #column-4lfbrt40h {
        }
    }

    @media (max-width: 575px) {
        #column-4lfbrt40h {
        }
    }

    #addon-5rhyxkq7p .pb-service-box {
        text-align: left;
    }

    #addon-5rhyxkq7p .pb-service-icon i {
        font-size: 34px;
    }

    #addon-5rhyxkq7p .pb-service-icon img {
        width: 25%;
    }

    #column-2y1kdp964 {
    }

    @media (max-width: 991px) {
        #column-2y1kdp964 {
        }
    }

    @media (max-width: 575px) {
        #column-2y1kdp964 {
        }
    }

    #addon-rrcffktlp .pb-service-box {
        text-align: left;
    }

    #addon-rrcffktlp .pb-service-icon i {
        font-size: 34px;
    }

    #addon-rrcffktlp .pb-service-icon img {
        width: 25%;
    }

    #column-rma1buzfv {
    }

    @media (max-width: 991px) {
        #column-rma1buzfv {
        }
    }

    @media (max-width: 575px) {
        #column-rma1buzfv {
        }
    }

    #addon-i5j08rk6d .pb-service-box {
        text-align: left;
    }

    #addon-i5j08rk6d .pb-service-icon i {
        font-size: 34px;
    }

    #addon-i5j08rk6d .pb-service-icon img {
        width: 25%;
    }

    #column-acjkqul12 {
    }

    @media (max-width: 991px) {
        #column-acjkqul12 {
        }
    }

    @media (max-width: 575px) {
        #column-acjkqul12 {
        }
    }

    #addon-381rl0da0 .pb-service-box {
        text-align: left;
    }

    #addon-381rl0da0 .pb-service-icon i {
        font-size: 34px;
    }

    #addon-381rl0da0 .pb-service-icon img {
        width: 25%;
    }

    #row-dlwmhtm0z {
        background-color: #f8f8f8;
        padding-top: 51px;
        padding-bottom: 44px;
    }

    @media (max-width: 991px) {
        #row-dlwmhtm0z {
        }
    }

    @media (max-width: 575px) {
        #row-dlwmhtm0z {
        }
    }

    #column-i8iorhy4b {
    }

    @media (max-width: 991px) {
        #column-i8iorhy4b {
        }
    }

    @media (max-width: 575px) {
        #column-i8iorhy4b {
        }
    }

    #addon-eeieeg3ez .pb-heading {
        color: ;
        text-align: center;
        font-size: 24px;
    }

    @media (max-width: 991px) {
        #addon-eeieeg3ez .pb-heading {
            font-size: 22px;
        }
    }

    @media (max-width: 575px) {
        #addon-eeieeg3ez .pb-heading {
            font-size: 22px;
        }
    }

    #column-79i6ye0wq {
    }

    @media (max-width: 991px) {
        #column-79i6ye0wq {
        }
    }

    @media (max-width: 575px) {
        #column-79i6ye0wq {
        }
    }

    #column-qpb72cal9 {
        margin-top: 2px;
    }

    @media (max-width: 991px) {
        #column-qpb72cal9 {
        }
    }

    @media (max-width: 575px) {
        #column-qpb72cal9 {
        }
    }

    #addon-hihkn1g36 .row {
        margin-left: -10px;
        margin-right: -10px;
    }

    #addon-hihkn1g36 .row > div {
        padding-left: 10px;
        padding-right: 10px;
    }

    #row-ugg1c8gdt {
        margin-top: 51px;
    }

    @media (max-width: 991px) {
        #row-ugg1c8gdt {
        }
    }

    @media (max-width: 575px) {
        #row-ugg1c8gdt {
        }
    }

    #column-c4o9841vm {
    }

    @media (max-width: 991px) {
        #column-c4o9841vm {
        }
    }

    @media (max-width: 575px) {
        #column-c4o9841vm {
        }
    }

    #addon-o5c1kd3vz .pb-heading {
        color: ;
        text-align: center;
        font-size: 24px;
    }

    @media (max-width: 991px) {
        #addon-o5c1kd3vz .pb-heading {
            font-size: 22px;
        }
    }

    @media (max-width: 575px) {
        #addon-o5c1kd3vz .pb-heading {
            font-size: 22px;
        }
    }

    #column-i8r6yjj6q {
    }

    @media (max-width: 991px) {
        #column-i8r6yjj6q {
        }
    }

    @media (max-width: 575px) {
        #column-i8r6yjj6q {
        }
    }

    #column-ta7172iga {
        margin-top: 22px;
    }

    @media (max-width: 991px) {
        #column-ta7172iga {
        }
    }

    @media (max-width: 575px) {
        #column-ta7172iga {
        }
    }

    #column-48puem1g8 {
        margin-top: 2px;
    }

    @media (max-width: 991px) {
        #column-48puem1g8 {
        }
    }

    @media (max-width: 575px) {
        #column-48puem1g8 {
        }
    }

    #addon-uwv1niuuw .row {
        margin-left: -10px;
        margin-right: -10px;
    }

    #addon-uwv1niuuw .row > div {
        padding-left: 10px;
        padding-right: 10px;
    }

    #row-h8x1776es {
        margin-top: 67px;
    }

    @media (max-width: 991px) {
        #row-h8x1776es {
        }
    }

    @media (max-width: 575px) {
        #row-h8x1776es {
        }
    }

    #column-sru36d93w {
    }

    @media (max-width: 991px) {
        #column-sru36d93w {
        }
    }

    @media (max-width: 575px) {
        #column-sru36d93w {
        }
    }

    #addon-v0za8537a .pb-banner-text {
        top: 0px;
        left: 40px;
        text-align: left;
    }

    #addon-v0za8537a .pb-banner-subtitle {
        font-size: 14px;
        line-height: 21px;
        color: #ffffff
    }

    #addon-v0za8537a .pb-banner-title {
        font-size: 24px;
        line-height: 30px;
        color: #ffffff
    }

    #addon-v0za8537a .pb-banner-desc {
        font-size: 14px;
        line-height: 21px;
        color:
    }

    @media (max-width: 991px) {
        #addon-v0za8537a .pb-banner-text {
            top: 20px;
            left: 20px;
        }

        #addon-v0za8537a .pb-banner-subtitle {
            font-size: 14px;
            line-height: 21px;
        }

        #addon-v0za8537a .pb-banner-title {
            font-size: 24px;
            line-height: 30px;
        }

        #addon-v0za8537a .pb-banner-desc {
            font-size: 12px;
            line-height: 18px;
        }
    }

    @media (max-width: 575px) {
        #addon-v0za8537a .pb-banner-text {
            top: 20px;
            left: 20px;
        }

        #addon-v0za8537a .pb-banner-subtitle {
            font-size: 14px;
            line-height: 21px;
        }

        #addon-v0za8537a .pb-banner-title {
            font-size: 24px;
            line-height: 30px;
        }

        #addon-v0za8537a .pb-banner-desc {
            font-size: 10px;
            line-height: 15px;
        }
    }

    #column-95xbvfte1 {
    }

    @media (max-width: 991px) {
        #column-95xbvfte1 {
        }
    }

    @media (max-width: 575px) {
        #column-95xbvfte1 {
        }
    }

    #addon-zodu7zusf .pb-banner-text {
        top: 0px;
        left: 40px;
        text-align: left;
    }

    #addon-zodu7zusf .pb-banner-subtitle {
        font-size: 14px;
        line-height: 21px;
        color: #ffffff
    }

    #addon-zodu7zusf .pb-banner-title {
        font-size: 24px;
        line-height: 30px;
        color: #ffffff
    }

    #addon-zodu7zusf .pb-banner-desc {
        font-size: 14px;
        line-height: 21px;
        color:
    }

    @media (max-width: 991px) {
        #addon-zodu7zusf .pb-banner-text {
            top: 20px;
            left: 20px;
        }

        #addon-zodu7zusf .pb-banner-subtitle {
            font-size: 14px;
            line-height: 21px;
        }

        #addon-zodu7zusf .pb-banner-title {
            font-size: 24px;
            line-height: 30px;
        }

        #addon-zodu7zusf .pb-banner-desc {
            font-size: 12px;
            line-height: 18px;
        }
    }

    @media (max-width: 575px) {
        #addon-zodu7zusf .pb-banner-text {
            top: 20px;
            left: 20px;
        }

        #addon-zodu7zusf .pb-banner-subtitle {
            font-size: 14px;
            line-height: 21px;
        }

        #addon-zodu7zusf .pb-banner-title {
            font-size: 24px;
            line-height: 30px;
        }

        #addon-zodu7zusf .pb-banner-desc {
            font-size: 10px;
            line-height: 15px;
        }
    }

    #column-t4wjn72kp {
    }

    @media (max-width: 991px) {
        #column-t4wjn72kp {
        }
    }

    @media (max-width: 575px) {
        #column-t4wjn72kp {
        }
    }

    #addon-d632qyolq .pb-banner-text {
        top: 0px;
        left: 40px;
        text-align: left;
    }

    #addon-d632qyolq .pb-banner-subtitle {
        font-size: 14px;
        line-height: 21px;
        color: #ffffff
    }

    #addon-d632qyolq .pb-banner-title {
        font-size: 24px;
        line-height: 30px;
        color: #ffffff
    }

    #addon-d632qyolq .pb-banner-desc {
        font-size: 14px;
        line-height: 21px;
        color:
    }

    @media (max-width: 991px) {
        #addon-d632qyolq .pb-banner-text {
            top: 20px;
            left: 20px;
        }

        #addon-d632qyolq .pb-banner-subtitle {
            font-size: 14px;
            line-height: 21px;
        }

        #addon-d632qyolq .pb-banner-title {
            font-size: 24px;
            line-height: 30px;
        }

        #addon-d632qyolq .pb-banner-desc {
            font-size: 12px;
            line-height: 18px;
        }
    }

    @media (max-width: 575px) {
        #addon-d632qyolq .pb-banner-text {
            top: 20px;
            left: 20px;
        }

        #addon-d632qyolq .pb-banner-subtitle {
            font-size: 14px;
            line-height: 21px;
        }

        #addon-d632qyolq .pb-banner-title {
            font-size: 24px;
            line-height: 30px;
        }

        #addon-d632qyolq .pb-banner-desc {
            font-size: 10px;
            line-height: 15px;
        }
    }

    #row-obh9n1ceb {
        margin-top: 40px;
    }

    @media (max-width: 991px) {
        #row-obh9n1ceb {
        }
    }

    @media (max-width: 575px) {
        #row-obh9n1ceb {
        }
    }

    #column-a38iynsuw {
    }

    @media (max-width: 991px) {
        #column-a38iynsuw {
        }
    }

    @media (max-width: 575px) {
        #column-a38iynsuw {
        }
    }

    #addon-sh8v9eurj .pb-heading {
        color: ;
        text-align: center;
        font-size: 24px;
    }

    @media (max-width: 991px) {
        #addon-sh8v9eurj .pb-heading {
            font-size: 22px;
        }
    }

    @media (max-width: 575px) {
        #addon-sh8v9eurj .pb-heading {
            font-size: 22px;
        }
    }

    #column-zccnpjra1 {
    }

    @media (max-width: 991px) {
        #column-zccnpjra1 {
        }
    }

    @media (max-width: 575px) {
        #column-zccnpjra1 {
        }
    }

    #column-mdcq0qomx {
        margin-top: 3px;
    }

    @media (max-width: 991px) {
        #column-mdcq0qomx {
        }
    }

    @media (max-width: 575px) {
        #column-mdcq0qomx {
        }
    }

    #addon-64c94fifg .row {
        margin-left: -10px;
        margin-right: -10px;
    }

    #addon-64c94fifg .row > div {
        padding-left: 10px;
        padding-right: 10px;
    }

    #row-x91ezwue6 {
        background-color: #f8f8f8;
        padding-top: 46px;
        padding-bottom: 51px;
        margin-top: 30px;
    }

    @media (max-width: 991px) {
        #row-x91ezwue6 {
        }
    }

    @media (max-width: 575px) {
        #row-x91ezwue6 {
        }
    }

    #column-kvq8yps29 {
        margin-bottom: 25px;
    }

    @media (max-width: 991px) {
        #column-kvq8yps29 {
        }
    }

    @media (max-width: 575px) {
        #column-kvq8yps29 {
        }
    }

    #addon-lslgvhxfs .pb-heading {
        color: ;
        text-align: center;
        font-size: 24px;
    }

    @media (max-width: 991px) {
        #addon-lslgvhxfs .pb-heading {
            font-size: 22px;
        }
    }

    @media (max-width: 575px) {
        #addon-lslgvhxfs .pb-heading {
            font-size: 22px;
        }
    }

    #column-euwx3z980 {
    }

    @media (max-width: 991px) {
        #column-euwx3z980 {
        }
    }

    @media (max-width: 575px) {
        #column-euwx3z980 {
        }
    }

    #row-t1roqf33w {
        padding-top: 60px;
        padding-bottom: 70px;
    }

    @media (max-width: 991px) {
        #row-t1roqf33w {
        }
    }

    @media (max-width: 575px) {
        #row-t1roqf33w {
        }
    }

    #column-hgqhnftfg {
        margin-bottom: 14px;
    }

    @media (max-width: 991px) {
        #column-hgqhnftfg {
        }
    }

    @media (max-width: 575px) {
        #column-hgqhnftfg {
        }
    }

    #addon-th0cj01jl .gdz-icon-box {
        text-align: center;
    }

    #addon-th0cj01jl .gdz-icon-box i {
        font-size: 45px;
    }

    #addon-th0cj01jl .gdz-icon-box img {
        width: 25%;
    }

    #column-5xgr5me01 {
        margin-bottom: 5px;
    }

    @media (max-width: 991px) {
        #column-5xgr5me01 {
        }
    }

    @media (max-width: 575px) {
        #column-5xgr5me01 {
        }
    }

    #addon-srnbead6v .pb-heading {
        color: ;
        text-align: center;
        font-size: 24px;
    }

    @media (max-width: 991px) {
        #addon-srnbead6v .pb-heading {
            font-size: 22px;
        }
    }

    @media (max-width: 575px) {
        #addon-srnbead6v .pb-heading {
            font-size: 22px;
        }
    }

    #column-rv50wu6id {
        margin-bottom: 9px;
    }

    @media (max-width: 991px) {
        #column-rv50wu6id {
        }
    }

    @media (max-width: 575px) {
        #column-rv50wu6id {
        }
    }

    #addon-dnvw91jnk .pb-text-content {
        color: ;
        text-align: center;
        font-size: 14px;
    }

    @media (max-width: 991px) {
        #addon-dnvw91jnk .pb-text-content {
            font-size: 14px;
        }
    }

    @media (max-width: 575px) {
        #addon-dnvw91jnk .pb-text-content {
            font-size: 14px;
        }
    }

    #column-yfhwli0z7 {
    }

    @media (max-width: 991px) {
        #column-yfhwli0z7 {
        }
    }

    @media (max-width: 575px) {
        #column-yfhwli0z7 {
        }
    }
</style>
<div id="row-i5oou8rez" class="gdz-row ">
    <div class="container">
        <div class="row">
            <div id="column-rifrtujuf" class="layout-column col-lg-12 col-md-12 col-12 ">
                <div id="addon-xn7737f39" class="addon-box">
                    <div class="pb-spacer">
                        <div class="pb-spacer-inner"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="row-dlwmhtm0z" class="gdz-row productbox-carousel best-seller">
    <div class="container">
        <div class="row">
            <div id="column-i8iorhy4b" class="layout-column col-lg-9 col-md-12 col-12 ">
                <div id="addon-eeieeg3ez" class="addon-box">
                    <h5 class="pb-heading title text-lg-left">
                        Mới cập nhật
                    </h5>
                </div>
            </div>
            <div id="column-79i6ye0wq" class="layout-column col-lg-3 col-md-12 col-12 ">
                <div id="addon-xaqeprna0" class="addon-box">
                    <div class="pb-button pb-button-right">
                        <a class=" btn btn-sm btn-link btn-right"
                           href="${pageContext.request.contextPath}/search?keyword=" target="">
                            <span>Xem tất cả sách </span>
                            <i class="icon-long-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>
            <div id="column-qpb72cal9" class="layout-column col-lg-12 col-md-12 col-12 ">
                <div id="addon-hihkn1g36" class="addon-box">
                    <div class="pb-filter-products">
                        <div class="filter-products owl-carousel customs" data-items="5" data-lg="5" data-md="5"
                             data-sm="3" data-xs="2" data-nav="false" data-dots="true" data-auto="false"
                             data-rewind="false" data-slidebypage="1" data-margin="20">
                                <% ArrayList<MyObject> books = DB.getData("select top 10 books.*, authors.name as author_name, genre.name as genre_name from books inner join authors on books.author_id = authors.id inner join genre on books.genre_id = genre.id order by id desc", new String[]{"id", "title", "description", "author_id", "genre_id", "quantity", "cover_image","price", "soft_file", "available", "author_name", "genre_name", "year", "renting"}); %>
                                <% for (int i = 0; i < books.size(); i++) {%>
                                        <div class="item">
                                <div class="product-miniature js-product-miniature thumbnail-container productbox-12 customs"
                                     data-id-product="129" data-id-product-attribute="0" itemscope
                                     itemtype="http://schema.org/Product">
                                    <div class="product-preview">
                                            <img class="img-responsive product-img1"
                                                 data-src="${pageContext.request.contextPath}<%= books.get(i).cover_image %>"
                                                 src="${pageContext.request.contextPath}<%= books.get(i).cover_image %>"
                                                 alt="<%= books.get(i).title %>"
                                                 title="<%= books.get(i).description %>"
                                                 style="width: 100%; height: 100%; object-fit: contain;"
                                            />
                                    </div>
                                    <div class="product-info">
                                        <a class="category-name"
                                           href="${pageContext.request.contextPath}/view-author?id=<%=books.get(i).author_id%>">
                                            by
                                            <span><%=books.get(i).author_name%></span>
                                        </a>

                                        <h3 class="product-title" itemprop="name"><a class="product-link"
                                                                                     href="${pageContext.request.contextPath}/view-book?id=<%=books.get(i).id%>"><%= books.get(i).title %></a>
                                        </h3>


                                        <div class="content_price">

                                            <span class="price new has-discount">
                                               giá thuê 1 ngày <%=books.get(i).getPrice()%>
                                            </span>
                                        </div>
                                        <div class="text-danger">
                                            đang thuê <%=books.get(i).renting%>/<%=books.get(i).quantity%>
                                        </div>
                                        <div class="product-short-desc">
                                            <p>Sed egestas, ante et vulputate volutpat, eros pede semper est, vitae
                                                luctus metus libero eu augue. Morbi purus libero, faucibus adipiscing.
                                                Sed lectus.</p>
                                        </div>
                                        <div class="product-footer">
                                            <% if (user != null) {%>
                                            <div class="product-action">
                                                <% if (Integer.parseInt(books.get(i).renting) >= Integer.parseInt(books.get(i).quantity)) {%>
                                                    <button class="btn btn-outline-warning btn-block mb-1" onclick="toastr.warning('Không đủ số lượng sách trong kho.')">Thuê ngay</button>
                                                <% } else {%>
                                                    <% if (user.vip_sub_id != null) {%>
                                                        <button data-toggle="modal" data-target="#rentVipModal" onclick="showRentVipModal('<%=books.get(i).getId()%>', '<%=books.get(i).getTitle()%>', '<%=books.get(i).getCover_image()%>')" class="btn btn-outline-warning btn-block mb-1"><i class="fa fa-money" aria-hidden="true"></i>Thuê ngay</button>
                                                    <% } else {%>
                                                        <button data-toggle="modal" data-target="#rentModal" onclick="showRentModal('<%=books.get(i).getId()%>', '<%=books.get(i).getTitle()%>', '<%=books.get(i).getCover_image()%>', '<%=books.get(i).getPrice()%>')" class="btn btn-outline-warning btn-block mb-1"><i class="fa fa-money" aria-hidden="true"></i>Thuê ngay</button>
                                                    <%}%>
                                                <% } %>
                                            </div>
                                            <div class="product-action">
                                                <button onclick="showFavorModal('<%=books.get(i).getId()%>', '<%=books.get(i).getTitle()%>', '<%=books.get(i).getCover_image()%>')" data-toggle="modal" data-target="#addFavoriteModal" class="btn btn-outline-success btn-block"><i class="fa fa-heart-o" aria-hidden="true"></i>Thêm vào yêu thích</button>
                                            </div>
                                            <%} else {%>
                                                    <div class="product-action">
                                                        <button onclick="toastr_login()" class="btn btn-outline-warning btn-block mb-1"><i class="fa fa-money" aria-hidden="true"></i>Thuê ngay</button>
                                                    </div>
                                                    <div class="product-action">
                                                        <button onclick="toastr_login()" class="btn btn-outline-success btn-block"><i class="fa fa-heart-o" aria-hidden="true"></i>Thêm vào yêu thích</button>
                                                    </div>
                                            <%}%>
                                        </div>
                                    </div>
                                </div>
                            </div>
                                <% } %>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="row-obh9n1ceb" class="gdz-row productbox-carousel">
    <div class="container">
        <div class="row">
            <div id="column-a38iynsuw" class="layout-column col-lg-9 col-md-12 col-12 ">
                <div id="addon-sh8v9eurj" class="addon-box">
                    <h5 class="pb-heading title text-lg-left">
                        Sách được mượn nhiều nhất.
                    </h5>
                </div>
            </div>
            <div id="column-zccnpjra1" class="layout-column col-lg-3 col-md-12 col-12 ">
                <div id="addon-m2kbt3w0v" class="addon-box">
                    <div class="pb-button pb-button-right">
                        <a class=" btn btn-sm btn-link btn-right"
                           href="${pageContext.request.contextPath}/search?keyword=" target="">
                            <span>Xem tất cả sách</span>
                            <i class="icon-long-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>
            <% ArrayList<MyObject> books_most_renting = DB.getData("select books.*, authors.name as author_name, genre.name as genre_name, count(rentals.id) as number_borrow from books inner join authors on books.author_id = authors.id inner join genre on books.genre_id = genre.id inner join rentals on books.id = rentals.book_id group by genre.name, authors.name, books.id, title, books.description, author_id, genre_id, quantity, renting, books.price, cover_image, soft_file, available, location_id, year order by number_borrow", new String[]{"id", "title", "description", "author_id", "genre_id", "quantity", "cover_image","price", "soft_file", "available", "author_name", "genre_name", "year", "renting", "number_borrow"}); %>
            <% if (books_most_renting.size() != 0){%>
                <div id="column-mdcq0qomx" class="layout-column col-lg-12 col-md-12 col-12 ">
                <div id="addon-64c94fifg" class="addon-box">
                    <div class="pb-filter-products">
                        <div class="filter-products owl-carousel customs" data-items="5" data-lg="5" data-md="5"
                             data-sm="3" data-xs="2" data-nav="false" data-dots="true" data-auto="false"
                             data-rewind="false" data-slidebypage="1" data-margin="20">
                            <% for (int i = 0; i < books_most_renting.size(); i++) {%>
                            <div class="item">
                                <div class="product-miniature js-product-miniature thumbnail-container productbox-12 customs"
                                     data-id-product="129" data-id-product-attribute="0" itemscope
                                     itemtype="http://schema.org/Product">
                                    <div class="product-preview">
                                        <img class="img-responsive product-img1"
                                             data-src="${pageContext.request.contextPath}<%= books_most_renting.get(i).cover_image %>"
                                             src="${pageContext.request.contextPath}<%= books_most_renting.get(i).cover_image %>"
                                             alt="<%= books_most_renting.get(i).title %>"
                                             title="<%= books_most_renting.get(i).description %>"
                                             style="width: 100%; height: 100%; object-fit: contain;"
                                        />
                                    </div>
                                    <div class="product-info">
                                        <a class="category-name"
                                           href="${pageContext.request.contextPath}/view-author?id=<%=books_most_renting.get(i).author_id%>">
                                            by
                                            <span><%=books_most_renting.get(i).author_name%></span>
                                        </a>

                                        <h3 class="product-title" itemprop="name"><a class="product-link"
                                                                                     href="${pageContext.request.contextPath}/view-book?id=<%=books_most_renting.get(i).id%>"><%= books_most_renting.get(i).title %></a>
                                        </h3>


                                        <div class="content_price">

                                            <span class="price new has-discount">
                                               giá thuê 1 ngày <%=books_most_renting.get(i).getPrice()%>
                                            </span>
                                        </div>
                                        <div class="text-danger">
                                            đang thuê: <%=books_most_renting.get(i).renting%>/<%=books_most_renting.get(i).quantity%>
                                        </div>
                                        <div class="text-danger">
                                            tổng số lần thuê: <%=books_most_renting.get(i).number_borrow%>
                                        </div>
                                        <div class="product-short-desc">
                                            <p>Sed egestas, ante et vulputate volutpat, eros pede semper est, vitae
                                                luctus metus libero eu augue. Morbi purus libero, faucibus adipiscing.
                                                Sed lectus.</p>
                                        </div>
                                        <div class="product-footer">
                                            <% if (user != null) {%>
                                            <div class="product-action">
                                                <% if (Integer.parseInt(books_most_renting.get(i).renting) >= Integer.parseInt(books_most_renting.get(i).quantity)) {%>
                                                <button class="btn btn-outline-warning btn-block mb-1" onclick="toastr.warning('Không đủ số lượng sách trong kho.')">Thuê ngay</button>
                                                <% } else {%>
                                                    <% if (user.vip_sub_id != null) {%>
                                                        <button data-toggle="modal" data-target="#rentVipModal" onclick="showRentVipModal('<%=books_most_renting.get(i).getId()%>', '<%=books_most_renting.get(i).getTitle()%>', '<%=books_most_renting.get(i).getCover_image()%>')" class="btn btn-outline-warning btn-block mb-1"><i class="fa fa-money" aria-hidden="true"></i>Thuê ngay</button>
                                                    <% } else {%>
                                                        <button data-toggle="modal" data-target="#rentModal" onclick="showRentModal('<%=books_most_renting.get(i).getId()%>', '<%=books_most_renting.get(i).getTitle()%>', '<%=books_most_renting.get(i).getCover_image()%>', '<%=books_most_renting.get(i).getPrice()%>')" class="btn btn-outline-warning btn-block mb-1"><i class="fa fa-money" aria-hidden="true"></i>Thuê ngay</button>
                                                    <%}%>
                                                <% } %>
                                            </div>
                                            <div class="product-action">
                                                <button onclick="showFavorModal('<%=books_most_renting.get(i).getId()%>', '<%=books_most_renting.get(i).getTitle()%>', '<%=books_most_renting.get(i).getCover_image()%>')" data-toggle="modal" data-target="#addFavoriteModal" class="btn btn-outline-success btn-block"><i class="fa fa-heart-o" aria-hidden="true"></i>Thêm vào yêu thích</button>
                                            </div>
                                            <%} else {%>
                                            <div class="product-action">
                                                <button onclick="toastr_login()" class="btn btn-outline-warning btn-block mb-1"><i class="fa fa-money" aria-hidden="true"></i>Thuê ngay</button>
                                            </div>
                                            <div class="product-action">
                                                <button onclick="toastr_login()" class="btn btn-outline-success btn-block"><i class="fa fa-heart-o" aria-hidden="true"></i>Thêm vào yêu thích</button>
                                            </div>
                                            <%}%>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <% } %>
                        </div>
                    </div>
                </div>
            </div>
            <%}%>
        </div>
    </div>
</div>
<div class="modal fade" id="addFavoriteModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Thêm vào yêu thích</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form action="${pageContext.request.contextPath}/user/add-favorite" method="post">
                    <div class="container">
                        <input type="hidden" name="book_id" id="book_id_add_favor">
                        <div class="form-group row align-items-center ">
                            <label class="col-md-12 form-control-label required" for="book_title">
                                Tên sách </label>
                            <div class="col-md-12">
                                <input class="form-control" id="book_title_add_favor" name="name_update" type="text" disabled>
                            </div>
                        </div>
                        <div class="form-group row align-items-center ">
                            <label class="col-md-12 form-control-label required">
                                Hình ảnh
                            </label>
                            <div class="col-md-12 d-flex justify-content-center">
                                <div>
                                    <img id="book_img_add_favor" src="" alt="" style="max-height: 400px">
                                </div>
                            </div>
                        </div>

                        <div class="form-group row align-items-center ">
                            <label class="col-md-12 form-control-label required" for="note">
                                Ghi chú
                            </label>
                            <div class="col-md-12">
                                <textarea class="form-control" name="note" id="note" style="width: 100%" rows="8" required></textarea>
                            </div>
                        </div>
                        <div class="container">
                            <div class="form-group row align-items-center ">
                                <button class="btn btn-outline-primary-2 btn-block" id="submit_update" type="submit">
                                    Thêm vào yêu thích
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="rentModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Thuê sách</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <% if (user != null){%>
                    <% if (user.vip_sub_id != null){%>
                    <form action="${pageContext.request.contextPath}/vip/rent-book" method="post">
                            <%} else {%>
                        <form action="${pageContext.request.contextPath}/user/rent-book" method="post">
                            <%}%>
                <%}%>
                    <div class="container">
                        <input type="hidden" id="book_id_rent" name="book_id">
                        <div class="form-group row align-items-center ">
                            <label class="col-md-12 form-control-label required" for="book_title">
                                Tên sách bạn sẽ thuê </label>
                            <div class="col-md-12">
                                <input class="form-control" id="book_title" type="text" readonly="">
                            </div>
                        </div>
                        <div class="form-group row align-items-center ">
                            <label class="col-md-12 form-control-label required">
                                Hình ảnh
                            </label>
                            <div class="col-md-12 d-flex justify-content-center">
                                <div>
                                    <img id="cover_image" src="" alt="" style="max-height: 400px">
                                </div>
                            </div>
                        </div>
                        <div class="form-group row align-items-center ">
                            <label class="col-md-12 form-control-label required" for="from_date">
                                Từ ngày </label>
                            <div class="col-md-12">
                                <input class="form-control" type="date" name="from_date" id="from_date">
                            </div>
                        </div>

                        <div class="form-group row align-items-center ">
                            <label class="col-md-12 form-control-label required" for="to_date">
                                Đến ngày </label>
                            <div class="col-md-12">
                                <input class="form-control" type="date" name="to_date" id="to_date">
                            </div>
                        </div>

                        <div class="form-group row align-items-center ml-2">
                            <p id="calculated_price" hidden=""></p>
                        </div>

                        <div class="container">
                            <div class="form-group row align-items-center ">
                                <button class="btn btn-outline-primary-2 btn-block" id="rent_button" type="submit">
                                    Thuê ngay
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="rentVipModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Thuê sách dành cho tài khoản vip</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form action="${pageContext.request.contextPath}/vip/rent-book" method="post">
                    <div class="container">
                        <input type="hidden" name="book_id" id="vip_book_id" >
                        <div class="form-group row align-items-center ">
                            <label class="col-md-12 form-control-label required">
                                Tên sách bạn sẽ thuê </label>
                            <div class="col-md-12">
                                <input class="form-control" id="vip_book_title" type="text" readonly="">
                            </div>
                        </div>
                        <div class="form-group row align-items-center ">
                            <label class="col-md-12 form-control-label required">
                                Hình ảnh
                            </label>
                            <div class="col-md-12 d-flex justify-content-center">
                                <div>
                                    <img id="vip_book_img" src="" alt=""
                                         style="max-height: 400px">
                                </div>
                            </div>
                        </div>
                        <div class="form-group row align-items-center ">
                            <label class="col-md-12 form-control-label required" for="from_date_vip">
                                Từ ngày </label>
                            <div class="col-md-12">
                                <input required class="form-control" type="date" name="from_date" id="from_date_vip">
                            </div>
                        </div>

                        <div class="form-group row align-items-center ">
                            <label class="col-md-12 form-control-label required" for="to_date_vip">
                                Đến ngày </label>
                            <div class="col-md-12">
                                <input required class="form-control" type="date" name="to_date" id="to_date_vip">
                            </div>
                        </div>
                        <div class="container">
                            <div class="form-group row align-items-center ">
                                <button id="rent_button_vip" class="btn btn-outline-primary-2 btn-block" type="submit">
                                    Thuê ngay
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<%@ include file="/master/foot.jsp" %>
<% if (user != null) {%>
<script>
    var is_vip = '<%=user.vip_sub_id == null ? "" : user.vip_sub_id%>'
    var contextPath = '${pageContext.request.contextPath}'
    var account_balance = '<%=user.getAccount_balance()%>'
    var book_price = 0
    var from_date = ''
    var to_date = ''
    var price_to_pay = 0
    function showFavorModal(id,title, cover_image) {
        $("#book_id_add_favor").val(id);
        $("#book_img_add_favor").attr("src",contextPath + cover_image)
        $("#book_title_add_favor").val(title)
    }
    function showRentModal(id, name, cover_image, price) {
        $("#book_id_rent").val(id)
        $("#book_title").val(name)
        $("#cover_image").attr("src", contextPath + cover_image)
        book_price = price
    }
    $("#from_date").on('input', function (){
        from_date = $("#from_date").val();
        if (to_date !== ''){
            calDays()
        }
    })
    $("#to_date").on('input', function (){
        to_date = $("#to_date").val();
        if (from_date !== ''){
            calDays()
        }
    })

    $("#rentModal").on('hidden.bs.modal', function (){
        $("#book_id").val('')
        $("#book_title").val('')
        $("#cover_image").attr("src", '')
        book_price = 0

    })
    function calDays() {
        <% if (user.vip_sub_id != null){%>

        <%} else {%>
            const date1 = new Date(from_date);
            const date2 = new Date(to_date);
            const timeDifference = Math.abs(date2.getTime() - date1.getTime());
            days_rent = Math.ceil(timeDifference / (1000 * 3600 * 24)) + 1;
            price_to_pay = days_rent * book_price
            var text_to_show = "Số tiền bạn phải trả là : " + days_rent + " * " + book_price + " = " + price_to_pay
            $("#calculated_price").removeAttr("hidden")
            if ( price_to_pay > account_balance){
                text_to_show += " <span class='text-danger'>(Lưu ý không đủ số dư)</span>"
                $("#rent_button").attr("disabled", true)
            } else {
                $("#rent_button").attr("disabled", false)
            }
            $("#calculated_price").html(text_to_show)
        <%}%>
    }
    function showRentVipModal(id, title, img) {
        $("#vip_book_id").val(id)
        $("#vip_book_img").attr("src",contextPath + img )
        $("#vip_book_title").val(title)
    }
    $("#from_date_vip").on('input', function () {
        from_date_vip = $("#from_date_vip").val();
        var date = new Date(from_date_vip);
        var currentDate = new Date();
        currentDate.setHours(0,0,0,0)
        if (date < currentDate) {
            toastr.warning("Ngày bắt đầu mượn phải sau ngày hiện tại.")
            $("#from_date_vip").val(""); // Clear the input
            from_date = ''
            $("#rent_button_vip").attr("disabled", true)
        }
    })
    $("#to_date_vip").on('input', function () {
        to_date_vip = $("#to_date_vip").val();
        if (from_date_vip !== '') {
            var tempDate1 = new Date(from_date_vip)
            var tempDate2 = new Date(to_date_vip)
            if (tempDate2 < tempDate1) {
                toastr.warning("Ngày bắt kết thúc phải sau ngày bắt đầu mượn.")
                $("#rent_button_vip").attr("disabled", true)
            } else {
                $("#rent_button_vip").attr("disabled", false)

            }
        }
    })
</script>
<%} else {%>
<script>
    function toastr_login() {
        toastr.warning("Vui lòng đăng nhập để sử dụng tính năng này.", "Cảnh báo")
    }
</script>
<%}%>